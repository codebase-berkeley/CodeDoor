{% extends 'codedoor/base.html' %}
{% load static %}

{% block content %}
<html>
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'css/profileform.css' %}">
<h1>
    Edit Profile: {{ profile.user.get_full_name }}
</h1>
<form class="profile-form" enctype="multipart/form-data" action="{% url 'codedoor:editprofile' pk=profile.id %}" method="POST"> {% csrf_token %}
    <div class="entry">
        <p class="label">First Name:</p>
        <input type="text" name="first_name" value="{{ profile.user.first_name }}" required>
    </div>
    <div class="entry">
        <p class="label">Last Name:</p>
        <input type="text" name="last_name" value="{{ profile.user.last_name }}" required>
    </div>
    <div class="entry">
        <p class="label">Profile Picture:</p>
        {% if profile.profile_pic %}
            <input type="file" name="profile_pic" accept="image/*" id="pfpchanger">
            <script language="JavaScript">
                document.getElementById("pfpchanger").style.visibility="hidden";
                var displaypfpswap = function() {
                    document.getElementById("pfpchangeboton").style.visibility="hidden"
                    document.getElementById("pfpchanger").style.visibility="visible"
                }
            </script>
            <input type="button" onclick="displaypfpswap()" value="Change Profile Picture" id="pfpchangeboton" >
        {% else %}
            <input type="file" name="profile_pic" accept="image/*">
        {%  endif %}
    </div>
    <div class="entry">
        <p class="label">Graduation Year:</p>
        <input type="number" name="graduation_year" value="{{ profile.graduation_year }}" required>
    </div>
    <div class="entry">
        <p class="label">Current Job:</p>
        <input type="text" name="current_job" value="{{ profile.current_job }}">
    </div>
    <div class="entry">
        <p class="label">LinkedIn:</p>
        <input type="text" name="linkedin" value="{{ profile.linkedin }}">
    </div>
    <div id="submit">
        <input type="submit" value="Save Changes">
    </div>
</form>
</html>
{% endblock content %}
